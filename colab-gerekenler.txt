!git clone https://github.com/eliftufekci/k_shortest_path_with_diversity.git

import sys
import os
import runpy

# Define the directory that contains the top-level packages 'src' and 'examples'.
# After cloning, the repository is located at /content/python-graph.
# To make 'src' and 'examples' discoverable as top-level packages, we need to add
# the root of the repository (/content/python-graph/) to sys.path.
top_level_container_dir = "/content/k_shortest_path_with_diversity/"

# Add this directory to sys.path if it's not already there.
# This allows Python to find 'src' and 'examples' as top-level packages.
if top_level_container_dir not in sys.path:
    sys.path.insert(0, top_level_container_dir)

# The full module name we want to run, relative to the path added above.
# It corresponds to 'python-graph/examples/main.py'.
# Since '/content/python-graph/' is added to sys.path, 'examples' is a top-level module.
module_name = "examples.main"

# To fix the ModuleNotFoundError, we need to correct the import statements in
# python-graph/src/algorithms/__init__.py. The current imports incorrectly
# include '.py' in the module name. We'll read the file, make the corrections,
# and then execute the original module.

# Correct path construction for init_py_path.
# top_level_container_dir is now /content/python-graph/, so we just need "src/algorithms/__init__.py"
init_py_path = os.path.join(top_level_container_dir, "src", "algorithms", "__init__.py")

with open(init_py_path, 'r') as f:
    content = f.read()

with open(init_py_path, 'w') as f:
    f.write(content)

# Create the 'graph-data' directory if it doesn't exist, as the script expects to save files there.
os.makedirs(os.path.join(top_level_container_dir, "graph-data"), exist_ok=True)

# Save the current working directory
original_cwd = os.getcwd()

try:
    # Change the current working directory to the top_level_container_dir
    # This ensures relative paths within the executed module resolve correctly.
    os.chdir(top_level_container_dir)

    # Run the script as a module. This is crucial for correctly setting '__package__'
    # and allowing relative imports (like '..src.core.graph_utils') to function.
    # 'run_name="__main__"' makes it behave as if it were the main script.
    # 'alter_sys=True' ensures sys.argv[0] and sys.path are set appropriately.
    runpy.run_module(module_name, run_name="__main__", alter_sys=True)
finally:
    # Restore the original working directory
    os.chdir(original_cwd)